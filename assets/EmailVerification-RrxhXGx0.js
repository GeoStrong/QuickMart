import{r as s,u as $,j as e,c as y,t as U,v as D,w as K,T as O,x as P,E as V,y as M,P as E,z as G,D as Z,g as z,a as W,n as Y,o as q,C as J,s as Q,F as c,B as R}from"./index-sazOFvTX.js";const B=U("h4");B.displayName="DivStyledAsH4";const T=s.forwardRef(({className:n,bsPrefix:t,as:o=B,...a},r)=>(t=$(t,"alert-heading"),e.jsx(o,{ref:r,className:y(n,t),...a})));T.displayName="AlertHeading";const X=T,H=s.forwardRef(({className:n,bsPrefix:t,as:o=D,...a},r)=>(t=$(t,"alert-link"),e.jsx(o,{ref:r,className:y(n,t),...a})));H.displayName="AlertLink";const ee=H,te={[V]:"show",[M]:"show"},I=s.forwardRef(({className:n,children:t,transitionClasses:o={},onEnter:a,...r},h)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},C=s.useCallback((l,u)=>{K(l),a==null||a(l,u)},[a]);return e.jsx(O,{ref:h,addEndListener:P,...b,onEnter:C,childRef:t.ref,children:(l,u)=>s.cloneElement(t,{...u,className:y("fade",n,t.props.className,te[l],o[l])})})});I.displayName="Fade";const S=I,ae={"aria-label":E.string,onClick:E.func,variant:E.oneOf(["white"])},L=s.forwardRef(({className:n,variant:t,"aria-label":o="Close",...a},r)=>e.jsx("button",{ref:r,type:"button",className:y("btn-close",t&&`btn-close-${t}`,n),"aria-label":o,...a}));L.displayName="CloseButton";L.propTypes=ae;const se=L,F=s.forwardRef((n,t)=>{const{bsPrefix:o,show:a=!0,closeLabel:r="Close alert",closeVariant:h,className:b,children:C,variant:l="primary",onClose:u,dismissible:f,transition:d=S,...N}=G(n,{show:"onClose"}),v=$(o,"alert"),j=Z(m=>{u&&u(!1,m)}),x=d===!0?S:d,w=e.jsxs("div",{role:"alert",...x?void 0:N,ref:t,className:y(b,v,l&&`${v}-${l}`,f&&`${v}-dismissible`),children:[f&&e.jsx(se,{onClick:j,"aria-label":r,variant:h}),C]});return x?e.jsx(x,{unmountOnExit:!0,...N,ref:void 0,in:a,children:w}):a?w:null});F.displayName="Alert";const k=Object.assign(F,{Link:ee,Heading:X}),ne="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.0001%2018.9582C5.05841%2018.9582%201.04175%2014.9415%201.04175%209.99984C1.04175%205.05817%205.05841%201.0415%2010.0001%201.0415C14.9417%201.0415%2018.9584%205.05817%2018.9584%209.99984C18.9584%2014.9415%2014.9417%2018.9582%2010.0001%2018.9582ZM10.0001%202.2915C5.75008%202.2915%202.29175%205.74984%202.29175%209.99984C2.29175%2014.2498%205.75008%2017.7082%2010.0001%2017.7082C14.2501%2017.7082%2017.7084%2014.2498%2017.7084%209.99984C17.7084%205.74984%2014.2501%202.2915%2010.0001%202.2915Z'%20fill='white'/%3e%3cpath%20d='M8.8167%2012.9832C8.65003%2012.9832%208.4917%2012.9165%208.37503%2012.7998L6.0167%2010.4415C5.77503%2010.1998%205.77503%209.79984%206.0167%209.55817C6.25837%209.3165%206.65837%209.3165%206.90003%209.55817L8.8167%2011.4748L13.1%207.1915C13.3417%206.94984%2013.7417%206.94984%2013.9834%207.1915C14.225%207.43317%2014.225%207.83317%2013.9834%208.07484L9.25837%2012.7998C9.1417%2012.9165%208.98337%2012.9832%208.8167%2012.9832Z'%20fill='white'/%3e%3c/svg%3e",ie=()=>{const n=s.useRef(),t=s.useRef(),o=z(),{originPath:a,parentPath:r}=W(3),[h,b]=s.useState(),[C,l]=s.useState(!0),[u,f]=s.useState(!1),[d,N]=s.useState(!1),{checkAuthHandler:v}=Y(),j=r==="login",x=()=>b((Math.random()*10).toFixed(5).split(".").join("")),w=()=>{x(),f(!1),setTimeout(()=>{f(!0)},500)},m=g=>{const p=g.target,A=g.target.nextElementSibling,_=g.target.previousElementSibling;if(p.value.length>1){p.value="";return}+p.dataset.index==5&&l(!1),A&&A.hasAttribute("disabled")&&p.value!==""&&(A.removeAttribute("disabled"),p.setAttribute("disabled",!0),A.focus()),g.key==="Backspace"&&+p.dataset.index!=0&&(p.value="",_.removeAttribute("disabled"),p.setAttribute("disabled",!0),_.focus())};s.useEffect(()=>{x(),j&&v(`${r}/reset`),n.current.focus()},[]);const i=q({initialValues:{input0:"",input1:"",input2:"",input3:"",input4:"",input5:""},onSubmit:g=>{if(Object.values(g).join("")!==h){N(!0),t.current.focus();return}return o(`/${a}/authentication/${r}/${j?"new password":"success"}`)}});return e.jsxs(J,{className:"position-relative",children:[e.jsxs(k,{dismissible:!0,onClose:()=>{n.current.focus(),setTimeout(()=>{f(!0)},1e3)},className:"alert position-absolute fw-light rounded-4 d-flex gap-2 align-items-center text-center text-dark",children:[e.jsx("div",{className:"alert-img bg-primary",children:e.jsx("img",{src:ne,alt:"alert"})}),"Close this modal window to get the 6-digit Verification code."]}),u&&e.jsx(k,{dismissible:!0,onClose:()=>{f(!1)},className:"alert alert__code position-absolute rounded-4 text-dark",children:e.jsxs(k.Heading,{className:"text-center h6 ",children:["Your verification code is"," ",e.jsx("span",{className:"fw-bold d-block",children:h})]})}),e.jsx(Q,{page:"Forgot Password",title:"Email Verification",text:"Enter the 6-digit verification code send to your email address."}),e.jsxs(c,{className:"form d-flex flex-column align-items-stretch align-items-md-center w-100",onSubmit:i.handleSubmit,children:[e.jsxs(c.Group,{className:"d-flex gap-2 gap-md-3 justify-content-center",children:[e.jsx(c.Control,{ref:n,type:"number",id:"input0","data-index":"0",maxLength:"1",className:`form__control text-center border-primary ${d&&"border-danger"}`,onKeyUp:m,onChange:i.handleChange,value:i.values.input0}),e.jsx(c.Control,{type:"number",id:"input1","data-index":"1",maxLength:"1",className:`form__control text-center border-primary ${d&&"border-danger"}`,onKeyUp:m,onChange:i.handleChange,value:i.values.input1,disabled:!0}),e.jsx(c.Control,{type:"number",id:"input2","data-index":"2",maxLength:"1",className:`form__control text-center border-primary ${d&&"border-danger"}`,onKeyUp:m,onChange:i.handleChange,value:i.values.input2,disabled:!0}),e.jsx(c.Control,{type:"number",id:"input3","data-index":"3",maxLength:"1",className:`form__control text-center border-primary ${d&&"border-danger"}`,onKeyUp:m,onChange:i.handleChange,value:i.values.input3,disabled:!0}),e.jsx(c.Control,{type:"number",id:"input4","data-index":"4",maxLength:"1",className:`form__control text-center border-primary ${d&&"border-danger"}`,onKeyUp:m,onChange:i.handleChange,value:i.values.input4,disabled:!0}),e.jsx(c.Control,{ref:t,type:"number",id:"input5","data-index":"5",maxLength:"1",className:`form__control text-center border-primary ${d&&"border-danger"}`,onKeyUp:m,onChange:i.handleChange,value:i.values.input5,disabled:!0})]}),e.jsx(c.Text,{className:"text-danger",children:d&&"Invalid Code"}),e.jsxs("div",{className:"form__buttons mt-3 d-flex flex-column align-items-center",children:[e.jsx(R,{variant:"white",type:"button",className:"text-primary text-center mb-2",onClick:w,children:"Resend code"}),e.jsx(R,{variant:"dark",type:"submit",className:"text-white w-100 py-3",disabled:C,children:"Proceed"})]})]})]})};export{ie as default};
