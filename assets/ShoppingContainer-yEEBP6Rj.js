import{r as m,k as v,j as e,n as S,R as E,C as T,J as q,o as f,K as D,g as Z,M as A}from"./index-kBEPsdM1.js";import{A as F}from"./Alert-QN-3SadB.js";import{C as N}from"./Card--7Li3_k0.js";import{R as G}from"./RedirectionPage-_FC4wHa0.js";const H=m.forwardRef(({bsPrefix:o,size:a,vertical:n=!1,className:s,role:l="group",as:r="div",...j},i)=>{const u=v(o,"btn-group");let p=u;return n&&(p=`${u}-vertical`),e.jsx(r,{...j,ref:i,role:l,className:S(s,p,a&&`${u}-${a}`)})});H.displayName="ButtonGroup";const y=H,R=m.forwardRef(({bsPrefix:o,className:a,role:n="toolbar",...s},l)=>{const r=v(o,"btn-toolbar");return e.jsx("div",{...s,ref:l,className:S(a,r),role:n})});R.displayName="ButtonToolbar";const O=R,Q=()=>{const o=m.useRef(),[a,n]=m.useState("#EE4D4D"),s=()=>{n("#fa7e7e")},l=()=>{n("#EE4D4D")};return e.jsxs("svg",{ref:o,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",onMouseOver:s,onMouseLeave:l,children:[e.jsx("path",{d:"M21 6.73046C20.98 6.73046 20.95 6.73046 20.92 6.73046C15.63 6.20046 10.35 6.00046 5.12004 6.53046L3.08004 6.73046C2.66004 6.77046 2.29004 6.47046 2.25004 6.05046C2.21004 5.63046 2.51004 5.27046 2.92004 5.23046L4.96004 5.03046C10.28 4.49046 15.67 4.70046 21.07 5.23046C21.48 5.27046 21.78 5.64046 21.74 6.05046C21.71 6.44046 21.38 6.73046 21 6.73046Z",fill:a}),e.jsx("path",{d:"M8.50001 5.72C8.46001 5.72 8.42001 5.72 8.37001 5.71C7.97001 5.64 7.69001 5.25 7.76001 4.85L7.98001 3.54C8.14001 2.58 8.36001 1.25 10.69 1.25H13.31C15.65 1.25 15.87 2.63 16.02 3.55L16.24 4.85C16.31 5.26 16.03 5.65 15.63 5.71C15.22 5.78 14.83 5.5 14.77 5.1L14.55 3.8C14.41 2.93 14.38 2.76 13.32 2.76H10.7C9.64001 2.76 9.62001 2.9 9.47001 3.79L9.24001 5.09C9.18001 5.46 8.86001 5.72 8.50001 5.72Z",fill:a}),e.jsx("path",{d:"M15.21 22.7496H8.79002C5.30002 22.7496 5.16002 20.8196 5.05002 19.2596L4.40002 9.18959C4.37002 8.77959 4.69002 8.41959 5.10002 8.38959C5.52002 8.36959 5.87002 8.67959 5.90002 9.08959L6.55002 19.1596C6.66002 20.6796 6.70002 21.2496 8.79002 21.2496H15.21C17.31 21.2496 17.35 20.6796 17.45 19.1596L18.1 9.08959C18.13 8.67959 18.49 8.36959 18.9 8.38959C19.31 8.41959 19.63 8.76959 19.6 9.18959L18.95 19.2596C18.84 20.8196 18.7 22.7496 15.21 22.7496Z",fill:a}),e.jsx("path",{d:"M13.66 17.25H10.33C9.91996 17.25 9.57996 16.91 9.57996 16.5C9.57996 16.09 9.91996 15.75 10.33 15.75H13.66C14.07 15.75 14.41 16.09 14.41 16.5C14.41 16.91 14.07 17.25 13.66 17.25Z",fill:a}),e.jsx("path",{d:"M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z",fill:a})]})},U=({onItemsModify:o,readyItemsState:a,page:n})=>{const[s,l,r]=o,[j,i]=a,[u,p]=m.useState(!1),[b,k]=m.useState(null),[x,_]=m.useState(s.reduce((t,c)=>({...t,[c.id]:!0}),{})),g=n==="cart",w=n==="order";m.useEffect(()=>{i(s)},[s,i]);const L=(t,c)=>{_({...x,[c]:t.target.checked})},M=t=>{const c=t.target.closest(".shoppingItem__col").id,C=s.find(h=>h.id===+c);j.some(h=>h.id===C.id)||i(h=>[...h,C])},$=t=>{const c=t.target.closest(".shoppingItem__col").id,C=s.find(d=>d.id===+c);i(d=>d.filter(h=>h.id!==C.id))},B=t=>{const c=t.target.closest(".shoppingItem__col").id;p(!0),k(c)},I=t=>{const c=t.target.closest(".shoppingItem__col").id,C=g&&t.target.closest(".shoppingItem__col").querySelector("input").checked,d=s.find(P=>P.id===+c),h=t.target.dataset.action;g&&!C||d.quantity===1&&h==="-"||(h==="-"?r(d,d.quantity-1):r(d,d.quantity+1))};return e.jsxs(e.Fragment,{children:[e.jsx(E,{className:`shoppingItem mt-1 ${!g&&"wishlistPage"}`,children:s.map(t=>e.jsxs(T,{id:t.id,xs:12,md:6,className:"shoppingItem__col mb-2",children:[w&&e.jsxs(F,{className:"shoppingItem__alert mb-2 p-1 alert-danger rounded-3 text-white bg-danger",children:["Estimated time: ",Math.floor(Math.random()*7)+1," working days"]}),e.jsxs(N,{className:"shoppingItem__card w-100 flex-row",children:[e.jsx(N.Img,{className:"shoppingItem__img",src:t.img}),e.jsxs(N.Body,{className:"shoppingItem__body",children:[e.jsxs("div",{className:"shoppingItem__body-header d-flex gap-3",children:[e.jsx(N.Title,{className:"shoppingItem__body-title fw-medium small",children:t.name}),g&&e.jsx(q.Check,{checked:x[t.id],onChange:c=>{L(c,t.id),c.target.checked?M(c):$(c)},id:t.id})]}),e.jsxs(N.Text,{className:"shoppingItem__body-text text-dark fw-medium",children:["$",t.price]}),e.jsxs(O,{className:"shoppingItem__body-toolbar justify-content-between",children:[e.jsxs(y,{className:"shoppingItem__body-group align-items-center small",children:[e.jsx(f,{onClick:I,"data-action":"-",className:"bg-white",disabled:w,children:"-"}),e.jsx("p",{className:"m-0",children:t.quantity}),e.jsx(f,{onClick:I,"data-action":"+",className:"bg-white",disabled:w,children:"+"})]}),e.jsx(y,{className:"shoppingItem__body-group shoppingItem__body-group--noborder",children:!w&&e.jsx(f,{onClick:B,className:"bg-white p-0",children:e.jsx(Q,{})})})]})]})]})]},t.id))}),e.jsxs(D,{title:"Delete product from wishlist",show:u,onClose:()=>{p(!1)},children:[e.jsx(f,{variant:"white",className:"py-3 py-sm-2 rounded-3",onClick:()=>{p(!1)},children:"Cancel"}),e.jsx(f,{variant:"dark",className:"py-3 py-sm-2 rounded-3",onClick:()=>{l(b),p(!1)},children:"Delete product"})]})]})},J=({items:o})=>{const a=o==null?void 0:o.reduce((l,r)=>l+r.price*r.quantity,0),n=0,s=a+n;return e.jsxs("section",{className:"cartCheckout mt-lg-3 d-flex flex-column justify-content-lg-center align-items-center gap-lg-3",children:[e.jsx("h2",{className:"h6",children:"Order info"}),e.jsxs("div",{className:"align-self-start d-lg-flex flex-column gap-1 w-100",children:[e.jsxs("div",{className:"cartCheckout__item d-flex justify-content-between",children:[e.jsx("h3",{className:"cartCheckout__title small fw-normal",children:"Subtotal"}),e.jsxs("span",{className:"cartCheckout__value small fw-normal",children:["$ ",a]})]}),e.jsxs("div",{className:"cartCheckout__item d-flex justify-content-between",children:[e.jsx("h3",{className:"cartCheckout__title small fw-normal",children:"Shipping"}),e.jsxs("span",{className:"cartCheckout__value small fw-normal",children:["$ ",n]})]}),e.jsxs("div",{className:"cartCheckout__item d-flex justify-content-between",children:[e.jsx("h2",{className:"h6 mb-3",children:"Total"}),e.jsxs("span",{className:"fw-normal",children:["$ ",s]})]})]}),e.jsx("div",{className:"align-self-stretch w-100",children:e.jsxs(f,{className:"btn-dark w-100",children:["Checkout (",o==null?void 0:o.length,")"]})})]})},Y=({itemsContainerState:o,element:a,emptyItemInfo:n})=>{const[s,l]=o,[r,j]=m.useState(),{originPath:i}=Z(),{checkAuthHandler:u}=A();m.useEffect(()=>{u(`/${i}/authentication/login`)},[u,i]);const p=a==="cart",b=x=>l(_=>_.filter(g=>g.id!==+x)),k=(x,_)=>{l(g=>(x.quantity=_,[...g]))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container__content mb-6 pt-5 d-flex flex-column flex-lg-row gap-5 justify-content-lg-between",children:[s.length>0?e.jsx(U,{onItemsModify:[s,b,k],readyItemsState:[r,j],page:a}):e.jsx(G,{title:n[0],text:n[1],navigateTo:`/${i}/categories`,buttonName:"Explore Categories",img:n[2]}),s.length>0&&p&&e.jsx(J,{items:r})]})})};export{y as B,Y as S};
