import{r as n,u as N,a as y,j as e,R as S,C as m,p as b,L as x,B as v,S as _,b as L,c as w,d as I,H as P,A as k}from"./index-k63RGkMX.js";import{C as A}from"./CategoryList-GMeLsFun.js";import{u as F,P as E}from"./ProductsList-KExkZi-1.js";import{C as h}from"./Carousel-RKHU-4ZT.js";import{C as t,a as B}from"./Card-bgZX73_U.js";import"./Anchor-hzIcsELx.js";const H=({categoryList:r,children:c,discountProducts:i})=>{const[o,d]=n.useState(0),[a,g]=n.useState(!1),{carouselItemPlaceholder:j,listItemPlaceholder:l}=F(),{setCustomStorageValue:u}=N("activeCategory"),{originPath:f}=y(),p=r.slice(0,8);n.useEffect(()=>{g(!0)},[r]);const C=s=>{d(s)};return e.jsxs("main",{className:"main mt-4",children:[e.jsxs(S,{className:"main__start d-flex",children:[e.jsx(m,{xs:12,lg:6,children:e.jsx(h,{interval:null,activeIndex:o,onSelect:C,className:"main__carousel h-100",children:i.length>0?i.map(s=>e.jsx(h.Item,{id:s.id,className:"main__carousel-item h-100",onClick:()=>{u({id:s.id,name:s.category},b.setActiveCategory)},children:e.jsx(x,{to:`/${f}/categories/${s.category}`,children:e.jsxs(t,{className:"h-100 flex-row bg-secondary bg-opacity-10",children:[e.jsx(t.Img,{src:s.image,className:"main__carousel-img rounded-3"}),e.jsx(B,{children:e.jsx(t.Body,{className:"h-100 p-0 pb-4 d-flex flex-column justify-content-end gap-1 gap-md-3",children:e.jsxs("div",{className:"bg-dark bg-opacity-50 p-1 rounded-3",children:[e.jsxs(v,{bg:"dark",className:"main__card-badge align-self-start py-2 small",children:[Math.floor(Math.random()*60+20),"% OFF"]}),e.jsxs(t.Text,{className:"mb-0 fw-normal text-white small",children:["On ",s.title]}),e.jsx(t.Title,{className:"text-white",children:"Exclusive Sales"})]})})})]})})},s.id)):j})}),e.jsxs(m,{xs:12,lg:6,className:"categories",children:[e.jsxs("div",{className:"categories__headline d-flex justify-content-between align-items-center",children:[e.jsx("h2",{className:"fw-bold",children:"Categories"}),e.jsx(x,{to:"categories",className:"text-primary z-2",children:"See All"})]}),a?e.jsx(A,{categories:p}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex gap-3",children:[l,l,l,l]})})]})]}),c]})},M=()=>e.jsx("div",{className:"mt-3 w-100 d-flex justify-content-center align-items-center",children:e.jsx(_,{animation:"border",variant:"primary"})}),U=()=>{const{renderFooter:r}=L(),{categories:c,discountProducts:i,products:o}=w(),d=Promise.all([c,i,o]);return e.jsxs(e.Fragment,{children:[e.jsxs(I,{className:"mt-3 mt-lg-0",children:[e.jsx(P,{}),e.jsx(n.Suspense,{fallback:e.jsx(M,{}),children:e.jsx(k,{resolve:d,children:a=>e.jsxs(H,{categoryList:a[0],discountProducts:a[1],children:[e.jsx("h1",{className:"h1 mt-2 fw-bold",children:"Latest Products"}),e.jsx(E,{productList:a[2]})]})})})]}),r]})};export{U as default};
