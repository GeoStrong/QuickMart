import{e as f,g as h,k as x,f as g,n as P,a as b,h as j,r as c,o as N,p as k,i as l,q as y,j as s,C,s as v,F as e,B as A}from"./index-eBc0Q8yQ.js";const $=()=>{const m=f(),i=h(),u=x(),w=g(),{checkAuthHandler:p}=P(),{originPath:d,parentPath:n}=b(3),{customError:a}=j(w);c.useEffect(()=>{p(`${n}/reset`)}),c.useEffect(()=>{if(a===null)i(`/${d}/authentication/${n}/success`);else return},[a,i,d,n]);const r=N({initialValues:{password:"",confirmPassword:""},validationSchema:k({password:l().min(8,"Too Short!").matches(/[A-Za-z -]/,"Password can only contain Latin letters.").required("Required"),confirmPassword:l().oneOf([y("password"),null],"Passwords must match").required("Required")}),onSubmit:o=>{m(o,{method:"PATCH"})}}),t=o=>r.errors[o]&&r.touched[o];return s.jsx(s.Fragment,{children:s.jsxs(C,{children:[s.jsx(v,{page:"Create Password",title:"New Password",text:"Enter your new password and remember it."}),s.jsxs(e,{className:"form d-flex flex-column align-items-md-start",onSubmit:r.handleSubmit,children:[s.jsxs(e.Group,{className:"mb-3 w-100",children:[s.jsxs(e.Label,{className:"fw-medium",children:["Password"," ",(t("password")||a)&&s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx(e.Control,{type:"password",id:"password",className:`form__input fw-normal py-3 ${t("password")||a?"border-danger":"border-primary"}`,...r.getFieldProps("password")}),s.jsx(e.Text,{className:"text-danger d-block",children:t("password")&&r.errors.password||a&&a[0].message})]}),s.jsxs(e.Group,{className:"w-100",children:[s.jsxs(e.Label,{className:"fw-medium",children:["Confirm Password"," ",(t("confirmPassword")||a)&&s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx(e.Control,{type:"password",id:"confirmPassword",className:`form__input fw-normal py-3 ${t("confirmPassword")||a?"border-danger":"border-primary"}`,...r.getFieldProps("confirmPassword")}),s.jsx(e.Text,{className:"text-danger d-block",children:t("confirmPassword")&&r.errors.confirmPassword||a&&a[0].message})]}),s.jsx(A,{variant:"dark",type:"submit",onClick:()=>r.setFieldValue("intent","new password"),className:"form__btn text-white align-self-stretch align-self-md-end py-3",children:u.state==="submitting"?"Saving...":"Save"})]})]})})};export{$ as default};
