import{r as d,q as Me,s as et,t as tt,v as be,j as n,w as nt,b as Ve,o as G,L as ot,g as Re,x as at,c as it,d as st,e as rt,A as lt}from"./index-rHemG52W.js";import{B as ct,a as dt}from"./ButtonToolbar-1H6dDt2h.js";var ut=function(e){var t=d.useRef(e);t.current=e,Me(function(){return function(){return t.current()}})};const ft=ut;var mt=function(e){var t=d.useRef(0),i=d.useState(e),a=i[0],o=i[1],u=d.useCallback(function(f){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){o(f)})},[]);return ft(function(){cancelAnimationFrame(t.current)}),[a,u]};const pt=mt;var ht=function(){var e=pt(function(){return{x:be?window.pageXOffset:0,y:be?window.pageYOffset:0}}),t=e[0],i=e[1];return d.useEffect(function(){var a=function(){i(function(o){var u=window.pageXOffset,f=window.pageYOffset;return o.x!==u||o.y!==f?{x:u,y:f}:o})};return a(),et(window,"scroll",a,{capture:!1,passive:!0}),function(){tt(window,"scroll",a)}},[]),t};const gt=ht;var Fe={},Ie;Object.defineProperty(Fe,"__esModule",{value:!0});var y=n,v=d,l=function(){return l=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function Ne(e,t,i){if(i||arguments.length===2)for(var a,o=0,u=t.length;o<u;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}function Se(e){var t=e.size,i=t===void 0?25:t,a=e.SVGstrokeColor,o=a===void 0?"currentColor":a,u=e.SVGstorkeWidth,f=u===void 0?0:u,N=e.SVGclassName,r=N===void 0?"star-svg":N,k=e.SVGstyle;return y.jsx("svg",l({className:r,style:k,stroke:o,fill:"currentColor",strokeWidth:f,viewBox:"0 0 24 24",width:i,height:i,xmlns:"http://www.w3.org/2000/svg"},{children:y.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function vt(e,t){switch(t.type){case"PointerMove":return l(l({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return l(l({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return l(l({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}var xt="style-module_starRatingWrap__q-lJC",yt="style-module_simpleStarRating__nWUxf",wt="style-module_fillIcons__6---A",Ct="style-module_emptyIcons__Bg-FZ",jt="style-module_tooltip__tKc3i";function ke(){return typeof window<"u"&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0}(function(e,t){t===void 0&&(t={});var i=t.insertAt;if(e&&typeof document<"u"){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",i==="top"&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}})(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),Ie=Fe.Rating=function(e){var t,i,a=e.onClick,o=e.onPointerMove,u=e.onPointerEnter,f=e.onPointerLeave,N=e.initialValue,r=N===void 0?0:N,k=e.iconsCount,m=k===void 0?5:k,P=e.size,I=P===void 0?40:P,M=e.readonly,S=M!==void 0&&M,A=e.rtl,C=A!==void 0&&A,E=e.customIcons,h=E===void 0?[]:E,V=e.allowFraction,w=V!==void 0&&V,p=e.style,j=e.className,Ae=j===void 0?"react-simple-star-rating":j,z=e.transition,Le=z!==void 0&&z,Z=e.allowHover,q=Z===void 0||Z,U=e.disableFillHover,J=U!==void 0&&U,X=e.fillIcon,Ge=X===void 0?null:X,Y=e.fillColor,Pe=Y===void 0?"#ffbc0b":Y,$=e.fillColorArray,Ee=$===void 0?[]:$,Be=e.fillStyle,K=e.fillClassName,We=K===void 0?"filled-icons":K,Q=e.emptyIcon,Oe=Q===void 0?null:Q,D=e.emptyColor,Te=D===void 0?"#cccccc":D,He=e.emptyStyle,ee=e.emptyClassName,ze=ee===void 0?"empty-icons":ee,te=e.allowTitleTag,Ze=te===void 0||te,ne=e.showTooltip,qe=ne!==void 0&&ne,oe=e.tooltipDefaultText,Ue=oe===void 0?"Your Rate":oe,ae=e.tooltipArray,B=ae===void 0?[]:ae,Je=e.tooltipStyle,ie=e.tooltipClassName,Xe=ie===void 0?"react-simple-star-rating-tooltip":ie,se=e.SVGclassName,re=se===void 0?"star-svg":se,le=e.titleSeparator,Ye=le===void 0?"out of":le,ce=e.SVGstyle,de=e.SVGstorkeWidth,ue=de===void 0?0:de,fe=e.SVGstrokeColor,me=fe===void 0?"currentColor":fe,pe=v.useReducer(vt,{hoverIndex:0,valueIndex:0,ratingValue:r,hoverValue:null}),W=pe[0],g=W.ratingValue,c=W.hoverValue,H=W.hoverIndex,he=W.valueIndex,O=pe[1];v.useEffect(function(){r&&O({type:"MouseClick",payload:0})},[r]);var _=v.useMemo(function(){return w?2*m:m},[w,m]),R=v.useMemo(function(){return r>_?0:w||Math.floor(r)===r?Math.round(r/m*100):2*Math.ceil(r)*10},[w,r,m,_]),ge=v.useMemo(function(){return(w?2*r-1:r-1)||0},[w,r]),F=v.useCallback(function(s){return m%2!=0?s/2/10:s*m/100},[m]),ve=function(s){for(var b=s.clientX,x=s.currentTarget.children[0].getBoundingClientRect(),Ke=x.left,Qe=x.right,De=x.width,Ce=C?Qe-b:b-Ke,T=_,je=Math.round(De/_),L=0;L<=_;L+=1)if(Ce<=je*L){T=L===0&&Ce<je?0:L;break}var _e=T-1;T>0&&(O({type:"PointerMove",payload:100*T/_,index:_e}),o&&c&&o(F(c),_e,s))},xe=function(s){c&&(O({type:"MouseClick",payload:c}),a&&a(F(c),H,s))},$e=v.useMemo(function(){if(q){if(J){var s=g&&g||R;return c&&c>s?c:s}return c&&c||g&&g||R}return g&&g||R},[q,J,c,g,R]);v.useEffect(function(){B.length>_&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[B.length,_]);var ye=v.useCallback(function(s){return c&&s[H]||g&&s[he]||r&&s[ge]},[c,H,g,he,r,ge]),we=v.useMemo(function(){return c&&F(c)||g&&F(g)||r&&F(R)},[c,F,g,r,R]);return y.jsxs("span",l({className:xt,style:{direction:"".concat(C?"rtl":"ltr")}},{children:[y.jsxs("span",l({className:"".concat(yt," ").concat(Ae),style:l({cursor:S?"":"pointer"},p),onPointerMove:S?void 0:ve,onPointerEnter:S?void 0:function(s){u&&u(s),ke()&&ve(s)},onPointerLeave:S?void 0:function(s){ke()&&xe(),O({type:"PointerLeave"}),f&&f(s)},onClick:S?void 0:xe,"aria-hidden":"true"},{children:[y.jsx("span",l({className:"".concat(Ct," ").concat(ze),style:l({color:Te},He)},{children:Ne([],Array(m),!0).map(function(s,b){var x;return y.jsx(v.Fragment,{children:((x=h[b])===null||x===void 0?void 0:x.icon)||Oe||y.jsx(Se,{SVGclassName:re,SVGstyle:ce,SVGstorkeWidth:ue,SVGstrokeColor:me,size:I})},b)})})),y.jsx("span",l({className:"".concat(wt," ").concat(We),style:l((t={},t[C?"right":"left"]=0,t.color=ye(Ee)||Pe,t.transition=Le?"width .2s ease, color .2s ease":"",t.width="".concat($e,"%"),t),Be),title:Ze?"".concat(we," ").concat(Ye," ").concat(m):void 0},{children:Ne([],Array(m),!0).map(function(s,b){var x;return y.jsx(v.Fragment,{children:((x=h[b])===null||x===void 0?void 0:x.icon)||Ge||y.jsx(Se,{SVGclassName:re,SVGstyle:ce,SVGstorkeWidth:ue,SVGstrokeColor:me,size:I})},b)})}))]})),qe&&y.jsx("span",l({className:"".concat(jt," ").concat(Xe),style:l((i={},i[C?"marginRight":"marginLeft"]=20,i),Je)},{children:(B.length>0?ye(B):we)||Ue}))]}))};const _t="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.69%2017.75H8.03999C7.04999%2017.75%206.09999%2017.33%205.42999%2016.6C4.75999%2015.87%204.42%2014.89%204.5%2013.9L5.33%203.94C5.36%203.63%205.24999%203.33001%205.03999%203.10001C4.82999%202.87001%204.54%202.75%204.23%202.75H2.5C2.09%202.75%201.75%202.41%201.75%202C1.75%201.59%202.09%201.25%202.5%201.25H4.24001C4.97001%201.25%205.65999%201.56%206.14999%202.09C6.41999%202.39%206.62%202.74%206.73%203.13H19.22C20.23%203.13%2021.16%203.53%2021.84%204.25C22.51%204.98%2022.85%205.93%2022.77%206.94L22.23%2014.44C22.12%2016.27%2020.52%2017.75%2018.69%2017.75ZM6.78%204.62L6%2014.02C5.95%2014.6%206.14%2015.15%206.53%2015.58C6.92%2016.01%207.45999%2016.24%208.03999%2016.24H18.69C19.73%2016.24%2020.67%2015.36%2020.75%2014.32L21.29%206.82001C21.33%206.23001%2021.14%205.67001%2020.75%205.26001C20.36%204.84001%2019.82%204.60999%2019.23%204.60999H6.78V4.62Z'%20fill='white'/%3e%3cpath%20d='M16.75%2022.75C15.65%2022.75%2014.75%2021.85%2014.75%2020.75C14.75%2019.65%2015.65%2018.75%2016.75%2018.75C17.85%2018.75%2018.75%2019.65%2018.75%2020.75C18.75%2021.85%2017.85%2022.75%2016.75%2022.75ZM16.75%2020.25C16.47%2020.25%2016.25%2020.47%2016.25%2020.75C16.25%2021.03%2016.47%2021.25%2016.75%2021.25C17.03%2021.25%2017.25%2021.03%2017.25%2020.75C17.25%2020.47%2017.03%2020.25%2016.75%2020.25Z'%20fill='white'/%3e%3cpath%20d='M8.75%2022.75C7.65%2022.75%206.75%2021.85%206.75%2020.75C6.75%2019.65%207.65%2018.75%208.75%2018.75C9.85%2018.75%2010.75%2019.65%2010.75%2020.75C10.75%2021.85%209.85%2022.75%208.75%2022.75ZM8.75%2020.25C8.47%2020.25%208.25%2020.47%208.25%2020.75C8.25%2021.03%208.47%2021.25%208.75%2021.25C9.03%2021.25%209.25%2021.03%209.25%2020.75C9.25%2020.47%209.03%2020.25%208.75%2020.25Z'%20fill='white'/%3e%3cpath%20d='M21.5%208.75H9.5C9.09%208.75%208.75%208.41%208.75%208C8.75%207.59%209.09%207.25%209.5%207.25H21.5C21.91%207.25%2022.25%207.59%2022.25%208C22.25%208.41%2021.91%208.75%2021.5%208.75Z'%20fill='white'/%3e%3c/svg%3e",bt=({product:e,isDescriptionShort:t,setIsDescriptionShort:i})=>{const a=nt(),[o,u]=d.useState(1),[f,N]=d.useState(!1),[r,k]=d.useState(null),[m,P]=d.useState(null),{isScreenMobile:I,setFooterFade:M}=Ve(),{getWishlistSvg:S}=at(),{y:A}=gt();let C;d.useEffect(()=>{(e==null?void 0:e.description.length)>100?i(!0):i(!1)},[e,i]),Me(()=>{k((Math.random()*5+0).toFixed(1)),P(Math.floor(Math.random()*1e3+0))});const E=p=>(["[","]",'"'].forEach(j=>{p&&(p=p.replaceAll(j,""))}),p),h={...e,image:e.image||E(e.images[0])},V={...h,quantity:o};d.useEffect(()=>{f?a.submit({intent:"add to favorite",product:JSON.stringify(V)},{method:"patch"}):a.submit({intent:"remove item from favorite",itemId:V.id},{method:"delete"})},[f]),d.useEffect(()=>{M(!!t)},[t,M]),t?C=e.description.slice(0,100)+" ...":C=e.description,d.useEffect(()=>{I&&A===0&&!t&&i(!0)},[t,I,i,A]);const w=p=>{p==="+"?u(j=>j+1):p==="-"&&o>1&&u(j=>j-1)};return n.jsxs(n.Fragment,{children:[n.jsxs("main",{className:"product pt-6 w-100 d-flex flex-column flex-lg-row gap-3",children:[n.jsx("div",{className:"product__image d-flex position-sticky justify-content-center d-lg-block",children:n.jsx("img",{src:h.image,alt:h.title})}),n.jsxs("div",{className:"product__detail bg-light d-flex flex-column justify-content-lg-around position-relative p-3 rounded-4",children:[n.jsx(G,{variant:"white",className:"product__detail--favorite position-absolute border-0",onClick:()=>{N(p=>!p)},children:S("#000",f)}),n.jsxs("div",{className:"product__detail-start d-flex justify-content-between align-items-center",children:[n.jsx("h1",{className:"h4 w-75 m-0 fw-bold",children:h.title}),n.jsxs("p",{className:"fw-bold m-0",children:["$ ",h.price]})]}),n.jsxs("div",{className:"product__detail-middle",children:[n.jsxs("div",{className:"product__detail-testimonials d-flex gap-1 align-items-center",children:[n.jsx(Ie,{iconsCount:5,initialValue:h.rating?h.rating.rate:r,readonly:!0,allowFraction:!0,size:15,showTooltip:!0,tooltipClassName:"bg-white text-dark ms-1 small"}),n.jsxs("span",{className:"small",children:["(",h.rating?h.rating.count:m," ","reviews)"]})]}),n.jsxs("p",{className:"product__detail-description fw-light",children:[C," ",n.jsx(G,{variant:"white",className:"p-0 text-primary",onClick:()=>{i(p=>!p)},children:t?"Read More":"Read Less"})]}),n.jsx(ct,{className:"product__detail-toolbar justify-content-between",children:n.jsxs(dt,{className:"product__detail-group align-items-center small",children:[n.jsx(G,{onClick:()=>{w("-")},"data-action":"-",className:"bg-white",children:"-"}),n.jsx("span",{className:"h-100 d-flex align-items-center bg-white",children:o}),n.jsx(G,{onClick:()=>{w("+")},"data-action":"+",className:"bg-white",children:"+"})]})})]}),n.jsxs("div",{className:"d-flex",children:[n.jsx(ot,{className:"btn btn-white w-50 fw-bold py-3 rounded-3",children:"Buy Now"}),n.jsxs(G,{variant:"dark fw-bold",className:"w-50 d-flex align-items-center justify-content-center py-3 rounded-3",type:"submit",onClick:()=>{a.submit({intent:"add to cart",product:JSON.stringify(V)},{method:"patch"})},children:[n.jsx("span",{children:"Add to Cart"}),n.jsx("img",{src:_t,alt:"cart"})]})]})]})]}),a.state==="submitting"&&n.jsx(Re,{})]})},kt=()=>{const e=it(),{renderFooter:t}=Ve(),[i,a]=d.useState(!0);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"pb-7 pb-lg-2",children:n.jsxs(st,{children:[n.jsx(rt,{page:"Product Details",whereTo:".."}),n.jsx(d.Suspense,{fallback:n.jsx(Re,{}),children:n.jsx(lt,{resolve:e.product,children:o=>n.jsx(bt,{product:o,isDescriptionShort:i,setIsDescriptionShort:a})})})]})}),i&&t]})};export{kt as default};
