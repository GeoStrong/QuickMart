import{r as h,c as k,j as e,d as b,R as L,e as S,f,F as R,B as j,g as T,C as $,H as B,b as H}from"./index-9nO8feO_.js";import{R as M}from"./RedirectionPage-FA6QUCM_.js";const w=h.forwardRef(({bsPrefix:s,size:a,vertical:n=!1,className:r,role:c="group",as:i="div",...m},C)=>{const p=k(s,"btn-group");let u=p;return n&&(u=`${p}-vertical`),e.jsx(i,{...m,ref:C,role:c,className:b(r,u,a&&`${p}-${a}`)})});w.displayName="ButtonGroup";const N=w,I=h.forwardRef(({bsPrefix:s,className:a,role:n="toolbar",...r},c)=>{const i=k(s,"btn-toolbar");return e.jsx("div",{...r,ref:c,className:b(a,i),role:n})});I.displayName="ButtonToolbar";const q=I,y="/QuickMart/assets/empty-cart-GEzP-Lky.png",E=()=>{const s=h.useRef(),[a,n]=h.useState("#EE4D4D"),r=()=>{n("#fa7e7e")},c=()=>{n("#EE4D4D")};return e.jsxs("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",onMouseOver:r,onMouseLeave:c,children:[e.jsx("path",{d:"M21 6.73046C20.98 6.73046 20.95 6.73046 20.92 6.73046C15.63 6.20046 10.35 6.00046 5.12004 6.53046L3.08004 6.73046C2.66004 6.77046 2.29004 6.47046 2.25004 6.05046C2.21004 5.63046 2.51004 5.27046 2.92004 5.23046L4.96004 5.03046C10.28 4.49046 15.67 4.70046 21.07 5.23046C21.48 5.27046 21.78 5.64046 21.74 6.05046C21.71 6.44046 21.38 6.73046 21 6.73046Z",fill:a}),e.jsx("path",{d:"M8.50001 5.72C8.46001 5.72 8.42001 5.72 8.37001 5.71C7.97001 5.64 7.69001 5.25 7.76001 4.85L7.98001 3.54C8.14001 2.58 8.36001 1.25 10.69 1.25H13.31C15.65 1.25 15.87 2.63 16.02 3.55L16.24 4.85C16.31 5.26 16.03 5.65 15.63 5.71C15.22 5.78 14.83 5.5 14.77 5.1L14.55 3.8C14.41 2.93 14.38 2.76 13.32 2.76H10.7C9.64001 2.76 9.62001 2.9 9.47001 3.79L9.24001 5.09C9.18001 5.46 8.86001 5.72 8.50001 5.72Z",fill:a}),e.jsx("path",{d:"M15.21 22.7496H8.79002C5.30002 22.7496 5.16002 20.8196 5.05002 19.2596L4.40002 9.18959C4.37002 8.77959 4.69002 8.41959 5.10002 8.38959C5.52002 8.36959 5.87002 8.67959 5.90002 9.08959L6.55002 19.1596C6.66002 20.6796 6.70002 21.2496 8.79002 21.2496H15.21C17.31 21.2496 17.35 20.6796 17.45 19.1596L18.1 9.08959C18.13 8.67959 18.49 8.36959 18.9 8.38959C19.31 8.41959 19.63 8.76959 19.6 9.18959L18.95 19.2596C18.84 20.8196 18.7 22.7496 15.21 22.7496Z",fill:a}),e.jsx("path",{d:"M13.66 17.25H10.33C9.91996 17.25 9.57996 16.91 9.57996 16.5C9.57996 16.09 9.91996 15.75 10.33 15.75H13.66C14.07 15.75 14.41 16.09 14.41 16.5C14.41 16.91 14.07 17.25 13.66 17.25Z",fill:a}),e.jsx("path",{d:"M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z",fill:a})]})},P=({items:s,onRemoveItem:a,onChangeItem:n,readyItems:r,readyItemsHandler:c})=>{const[i,m]=h.useState(s.reduce((t,o)=>({...t,[o.id]:!0}),{})),C=(t,o)=>{m({...i,[o]:t.target.checked})};h.useEffect(()=>{c(s)},[s,c]);const p=t=>{const o=t.target.closest(".shoppingItem__col").id,x=s.find(d=>d.id===+o);r.some(d=>d.id===x.id)||c(d=>[...d,x])},u=t=>{const o=t.target.closest(".shoppingItem__col").id,x=s.find(l=>l.id===+o);c(l=>l.filter(d=>d.id!==x.id))},_=t=>{const o=t.target.closest(".shoppingItem__col").id;a(o)},g=t=>{const o=t.target.closest(".shoppingItem__col").id,x=t.target.closest(".shoppingItem__col").querySelector("input").checked,l=s.find(v=>v.id===+o),d=t.target.dataset.action;x&&(l.quantity===1&&d==="-"||(d==="-"?n(l,l.quantity-1):n(l,l.quantity+1)))};return e.jsx(L,{className:"shoppingItem mt-1 overflow-y-scroll",children:s.map(t=>e.jsx(S,{id:t.id,xs:12,md:6,className:"shoppingItem__col",children:e.jsxs(f,{className:"shoppingItem__card w-100 flex-row",children:[e.jsx(f.Img,{className:"shoppingItem__img",src:t.img}),e.jsxs(f.Body,{className:"shoppingItem__body",children:[e.jsxs("div",{className:"shoppingItem__body-header d-flex gap-3",children:[e.jsx(f.Title,{className:"shoppingItem__body-title fw-medium",children:t.name}),e.jsx(R.Check,{checked:i[t.id],onChange:o=>{C(o,t.id),o.target.checked?p(o):u(o)},id:t.id})]}),e.jsxs(f.Text,{className:"shoppingItem__body-text text-dark fw-medium",children:["$",t.price]}),e.jsxs(q,{className:"shoppingItem__body-toolbar justify-content-between",children:[e.jsxs(N,{className:"shoppingItem__body-group align-items-center small",children:[e.jsx(j,{onClick:g,"data-action":"-",className:"bg-white",children:"-"}),e.jsx("p",{className:"m-0",children:t.quantity}),e.jsx(j,{onClick:g,"data-action":"+",className:"bg-white",children:"+"})]}),e.jsx(N,{className:"shoppingItem__body-group shoppingItem__body-group--noborder",children:e.jsx(j,{onClick:_,className:"bg-white p-0",children:e.jsx(E,{})})})]})]})]})},t.id))})},F=({items:s})=>{const a=s==null?void 0:s.reduce((c,i)=>c+i.price*i.quantity,0),n=0,r=a+n;return e.jsxs("section",{className:"cartCheckout mt-lg-3 d-flex flex-column justify-content-lg-center align-items-center gap-lg-3",children:[e.jsx("h2",{className:"h6",children:"Order info"}),e.jsxs("div",{className:"align-self-start d-lg-flex flex-column gap-1 w-100",children:[e.jsxs("div",{className:"cartCheckout__item d-flex justify-content-between",children:[e.jsx("h3",{className:"cartCheckout__title small fw-normal",children:"Subtotal"}),e.jsxs("span",{className:"cartCheckout__value small fw-normal",children:["$ ",a]})]}),e.jsxs("div",{className:"cartCheckout__item d-flex justify-content-between",children:[e.jsx("h3",{className:"cartCheckout__title small fw-normal",children:"Shipping"}),e.jsxs("span",{className:"cartCheckout__value small fw-normal",children:["$ ",n]})]}),e.jsxs("div",{className:"cartCheckout__item d-flex justify-content-between",children:[e.jsx("h2",{className:"h6 mb-3",children:"Total"}),e.jsxs("span",{className:"fw-normal",children:["$ ",r]})]})]}),e.jsx("div",{className:"align-self-stretch w-100",children:e.jsxs(j,{className:"btn-dark w-100",children:["Checkout (",s==null?void 0:s.length,")"]})})]})},G=({itemsContainer:s,setItemsContainer:a,element:n})=>{const[r,c]=h.useState(),{originPath:i}=T(),m=n==="cart",C=`${m?"Your cart is empty":"Your wishlist is empty"}`,p=`${m?"Looks like you have not added anything in your cart. Go ahead and explore top categories.":"Tap heart button to start saving your favorite items."}`,u=g=>a(t=>t.filter(o=>o.id!==+g)),_=(g,t)=>{a(o=>(g.quantity=t,[...o]))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container__content mb-6 d-flex flex-column flex-lg-row gap-5 justify-content-lg-between",children:[s.length>0?e.jsx(P,{items:s,onRemoveItem:u,onChangeItem:_,readyItems:r,readyItemsHandler:c}):e.jsx(M,{title:C,text:p,navigateTo:`/${i}/categories`,buttonName:"Explore Categories",img:y}),s.length>0&&m&&e.jsx(F,{items:r})]})})},Z=()=>{const{renderFooter:s}=H(),[a,n]=h.useState([{id:15,name:"Loop Silicone Strong Magnetic Watch",price:20.25,img:y,quantity:2},{id:20,name:"Loop Silicone Strong Magnetic Watch",price:15.25,img:y,quantity:1}]);return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx(B,{page:"My Cart"}),e.jsx(G,{itemsContainer:a,setItemsContainer:n,element:"cart"})]}),s]})},O=()=>e.jsx(Z,{});export{O as default};
